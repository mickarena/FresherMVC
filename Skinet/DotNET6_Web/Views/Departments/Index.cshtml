@model Core.Entities.Pages


<!DOCTYPE html>

<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
</head>
<body>
    <form>
        <div class="form-group">

    <button type="button" class="btn btn-outline-primary btn-sm">
        <a asp-action="Create">Thêm mới</a>
    </button>
@*            <form asp-action="Index" method="get">
                <div class="form-actions no-color">
                    <p>
                        Find by name: <input type="text" name="SearchString" value="@ViewData["CurrentFilter"]" />
                        <input type="submit" value="Search" class="btn btn-default" /> |
                        <a asp-action="Index">Back to Full List</a>
                    </p>
                </div>
            </form>*@
    <table class="table">
        <thead>
            <tr>
                <th>
                            Tên
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var departments in Model.Departments)
            {
                <tr>
                            <td>@departments.Name</td>
                    <td>
                                <a asp-action="Edit" asp-route-id="@departments.Id" type="button" class="btn btn-outline-primary btn-sm">Chỉnh Sửa</a> |
                                <a asp-action="Delete" asp-route-id="@departments.Id" type="button" class="btn btn-outline-primary btn-sm">Xóa</a>
                    </td>
                </tr>
            }
        </tbody>

    </table>
            <nav aria-label="Page navigation example">
                <ul class="pagination justify-content-end">
                    <li class="page-item ">
                        <button id="buttonPrevious" class="page-link"><a asp-action="Index" asp-route-currentPage="@(ViewBag.CurrentPageIndex - 1)">Previous</a></button>
                    </li>
                    @for (int i = 0; i < Model.PageCount; i++)
                    {
                        @if (i != ViewBag.CurrentPageIndex)
                        {

                            <li class="page-item"><a class="page-link" asp-action="Index" asp-route-currentPage="@i">@(i + 1)</a></li>
                        }
                        else {

                            <li class="page-item"><a class="page-link" asp-action="Index" asp-route-currentPage="@i" >@(i + 1)</a></li>

                            }
                    }
                    <li class="page-item">                       
                        
                        <button id="buttonNext" class="page-link"> <a asp-action="Index" asp-route-currentPage="@(ViewBag.CurrentPageIndex  + 1)">Next</a></button>
                    </li>
                </ul>
            </nav>
    </div>
    </form>
    </body>
    </html>
<script type="text/javascript">

    $("#buttonNext").click(function () {
        if ((parseInt($('@ViewBag.CurrentPageIndex').val()) + 1) == (parseInt($('@ViewBag.PageCount').val()))) {
            $('#buttonNext').prop('disabled', 'true');
            $('#linkNext').css('pointer-events', 'none');
        }
    });

    $("#buttonPrevious").click(function () {
        if ((parseInt$('@ViewBag.CurrentPageIndex').val()) == 0) {
            $('#buttonPrevious').prop('disabled', 'true');
            $('#linkPrevious').css('pointer-events', 'none');
        }
    });
</script>